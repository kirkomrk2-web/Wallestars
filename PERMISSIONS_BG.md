# üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞ –°–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –ü—Ä–∞–≤–∞ (Permissions System)

Wallestars Nexus –≤–∫–ª—é—á–≤–∞ –Ω–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –¥–æ—Å—Ç—ä–ø–∞ (RBAC - Role-Based Access Control), –∫–æ—è—Ç–æ –∑–∞—â–∏—Ç–∞–≤–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ç–∞. –¢–∞–∑–∏ —Å–∏—Å—Ç–µ–º–∞ –µ –∞–¥–∞–ø—Ç–∏—Ä–∞–Ω–∞ –æ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ç–∞ —Å Antigravity.

## üë• –†–æ–ª–∏ (Roles)

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ 4 –æ—Å–Ω–æ–≤–Ω–∏ —Ä–æ–ª–∏:

| –†–æ–ª—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|------|----------|-------|
| **Administrator** | –ü—ä–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –≤—Å–∏—á–∫–æ. | –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ (`*`) |
| **Operator** | –ó–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–∞ —Ä–∞–±–æ—Ç–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª. | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø—é—Ç—ä—Ä –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, AI —á–∞—Ç. |
| **AI User** | –ó–∞ AI –∞–≥–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä. Claude). | –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ AI –º–æ–¥–µ–ª–∏, –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞. |
| **Viewer** | –°–∞–º–æ –∑–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ. | –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ª–æ–≥–æ–≤–µ, —Å—Ç–∞—Ç—É—Å –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ç–∞. |

## üîë –ê—É—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è (Authentication)

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è –≤–∞—à–∞—Ç–∞ —Ä–æ–ª—è –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –∏–∑—Ç–æ—á–Ω–∏–∫–∞ –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ –∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∏—è API –∫–ª—é—á.

### 1. –õ–æ–∫–∞–ª–µ–Ω –¥–æ—Å—Ç—ä–ø (Localhost)
–ê–∫–æ –¥–æ—Å—Ç—ä–ø–≤–∞—Ç–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –æ—Ç —Å—ä—â–∞—Ç–∞ –º–∞—à–∏–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä Frontend-–∞), –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ —Ä–æ–ª—è **Operator**. –¢–æ–≤–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞ –ø—ä–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç –≤–ø–∏—Å–≤–∞–Ω–µ.

### 2. –í—ä–Ω—à–µ–Ω –¥–æ—Å—Ç—ä–ø (External)
–ê–∫–æ –¥–æ—Å—Ç—ä–ø–≤–∞—Ç–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –æ—Ç –¥—Ä—É–≥ –∫–æ–º–ø—é—Ç—ä—Ä –≤ –º—Ä–µ–∂–∞—Ç–∞ (–∏–ª–∏ –ø—Ä–µ–∑ Tailscale) –±–µ–∑ API –∫–ª—é—á, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ —Ä–æ–ª—è **Viewer**. –¢–æ–≤–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ –Ω–µ–æ—Ç–æ—Ä–∏–∑–∏—Ä–∞–Ω –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –º–∏—à–∫–∞—Ç–∞/–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞—Ç–∞ –æ—Ç –≤—ä–Ω—à–Ω–∏ –ª–∏—Ü–∞.

### 3. API –ö–ª—é—á–æ–≤–µ
–ó–∞ –¥–∞ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ-–≤–∏—Å–æ–∫–∏ –ø—Ä–∞–≤–∞ –æ—Ç —Ä–∞–∑—Å—Ç–æ—è–Ω–∏–µ (–∏–ª–∏ –∑–∞ –∞–≥–µ–Ω—Ç–∏), —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç–µ `Authorization` —Ö–µ–¥—ä—Ä —Å –≤–∞–ª–∏–¥–µ–Ω –∫–ª—é—á:

- **`ws-` –∫–ª—é—á–æ–≤–µ**: –î–∞–≤–∞—Ç –ø—Ä–∞–≤–∞ –Ω–∞ **Administrator**. –ö–ª—é—á—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–≤–ø–∞–¥–∞ —Å `WALLESTARS_API_KEY` –≤ `.env` —Ñ–∞–π–ª–∞.
- **`sk-ant-` –∫–ª—é—á–æ–≤–µ**: –î–∞–≤–∞—Ç –ø—Ä–∞–≤–∞ –Ω–∞ **Administrator/Owner**. –ö–ª—é—á—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–≤–ø–∞–¥–∞ —Å `ANTHROPIC_API_KEY` –≤ `.env` —Ñ–∞–π–ª–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Environment Variables

–î–æ–±–∞–≤–µ—Ç–µ –≤—ä–≤ –≤–∞—à–∏—è `.env` —Ñ–∞–π–ª:

```env
# –ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∑–∞ Claude AI
ANTHROPIC_API_KEY=sk-ant-your-key-here

# –û–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ: –ó–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –∞–≥–µ–Ω—Ç–∏/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
WALLESTARS_API_KEY=ws-custom-agent-key-123
```

## üõ†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ê–≥–µ–Ω—Ç–∏ (Agent Integration)

–ó–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏—Ü–∏ –∏ –∞–≥–µ–Ω—Ç–∏, –∫–æ–∏—Ç–æ –∏—Å–∫–∞—Ç –¥–∞ —Å–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞—Ç —Å Wallestars, –µ –Ω–∞–ª–∏—á–µ–Ω –∫–ª–∏–µ–Ω—Ç—Å–∫–∏ SDK:
`src/utils/WallestarsIntegration.js`

–¢–æ–∑–∏ —Ñ–∞–π–ª —Å—ä–¥—ä—Ä–∂–∞ –∫–ª–∞—Å–∞ `WallestarsIntegration`, –∫–æ–π—Ç–æ —É–ª–µ—Å–Ω—è–≤–∞ –≤—Ä—ä–∑–∫–∞—Ç–∞ —á—Ä–µ–∑ WebSocket –∏ HTTP API.

```javascript
import { WallestarsIntegration } from '../utils/WallestarsIntegration.js';

const client = new WallestarsIntegration();
await client.connect();
await client.click(100, 200); // –ò–∑–∏—Å–∫–≤–∞ –ø—Ä–∞–≤–∞
```

## üîí –ó–∞—â–∏—Ç–µ–Ω–∏ –†–µ—Å—É—Ä—Å–∏

–°–ª–µ–¥–Ω–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑–∏—Å–∫–≤–∞—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –ø—Ä–∞–≤–∞:

- **–ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–æ–º–ø—é—Ç—ä—Ä–∞** (–º–∏—à–∫–∞, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, screenshot): –ò–∑–∏—Å–∫–≤–∞ `control:system`
- **–ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ Android** (tap, type, install): –ò–∑–∏—Å–∫–≤–∞ `control:devices`
- **–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ Claude AI**: –ò–∑–∏—Å–∫–≤–∞ `use:ai`
- **–°–∏—Å—Ç–µ–º–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –î–æ—Å—Ç—ä–ø–Ω–∞ –∑–∞ `view:system` (–≤—Å–∏—á–∫–∏ —Ä–æ–ª–∏)

## ‚ö†Ô∏è –û—Ç–∫–∞–∑ –Ω–∞ –¥–æ—Å—Ç—ä–ø (Access Denied)

–ê–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –∏–ª–∏ –∞–≥–µ–Ω—Ç —Å–µ –æ–ø–∏—Ç–∞ –¥–∞ –∏–∑–ø—ä–ª–Ω–∏ –¥–µ–π—Å—Ç–≤–∏–µ, –∑–∞ –∫–æ–µ—Ç–æ –Ω—è–º–∞ –ø—Ä–∞–≤–∞ (–Ω–∞–ø—Ä. Viewer —Å–µ –æ–ø–∏—Ç–∞ –¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–∞ –º–∏—à–∫–∞—Ç–∞), —Å—ä—Ä–≤—ä—Ä—ä—Ç —â–µ –≤—ä—Ä–Ω–µ:

- **HTTP Status Code**: `403 Forbidden`
- **JSON Body**:
  ```json
  {
    "error": "Permission denied",
    "action": "computer.mouse.click",
    "requiredPermission": "control:system"
  }
  ```
